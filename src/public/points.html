<!DOCTYPE html>
<html>
  <head>
    <title>Mouse Click Coordinates</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <h1>Mouse Click Coordinates</h1>
    <canvas id="coordinatesChart" width="400" height="400"></canvas>
    <script>
      const ctx = document.getElementById("coordinatesChart").getContext("2d");
      const data = {
        datasets: [
          {
            label: "Mouse Click Coordinates",
            data: [],
            backgroundColor: "rgba(150, 0, 0, 1)",
            pointRadius: 5,
          },
        ],
      };
      const config = {
        type: "scatter",
        data: data,
        options: {
          scales: {
            x: {
              type: "linear",
              position: "bottom",
            },
            y: {
              type: "linear",
            },
          },
        },
      };
      const chart = new Chart(ctx, config);

      // Set up WebSocket connection
      const ws = new WebSocket(`ws://${window.location.host}`);

      ws.onmessage = (event) => {
        const coordinates = JSON.parse(event.data);
        chart.data.datasets[0].data.push(coordinates);
        chart.update();
      };
    </script>
  </body>
</html>
